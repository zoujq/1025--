C51 COMPILER V9.56.0.0   YX23F01CB_TOUCHUARTDEBUG_LIB_CFG                                  12/03/2020 08:45:13 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE YX23F01CB_TOUCHUARTDEBUG_LIB_CFG
OBJECT MODULE PLACED IN .\Output\YX23F01CB_TouchUartDebug_Lib_CFG.obj
COMPILER INVOKED BY: F:\Keil\C51\BIN\C51.EXE ..\..\Libraries\YX23F01CB_TouchUartDebug_Lib_V2.00\YX23F01CB_TouchUartDebug
                    -_Lib_CFG.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\..\Application;..\..\User\INC;..\..\Libraries;..\..\Libraries;..\..\User\I
                    -NC) DEBUG OBJECTEXTEND PRINT(.\List\YX23F01CB_TouchUartDebug_Lib_CFG.lst) TABS(2) OBJECT(.\Output\YX23F01CB_TouchUartDeb
                    -ug_Lib_CFG.obj)

line level    source

   1          
   2          //===================================================================================================
   3          #include "YX23F01CB.h"
   4          #include "YX23F01CB_SYS.h"
   5          #include "YX23F01CB_TouchUartDebug_Lib_V2.00\YX23F01CB_TouchUartDebug_Lib_CFG.h"
   6          
   7          #if TouchUartDebugLib_SW
   8          #pragma message "´¥Ãþ´®¿Úµ÷ÊÔ¹¦ÄÜ£ºÒÑ¿ªÆô£¬Çëµ÷ÊÔ½áÊøºó¹Ø±Õ"
*** MESSAGE C286 IN LINE 8 OF ..\..\Libraries\YX23F01CB_TouchUartDebug_Lib_V2.00\YX23F01CB_TouchUartDebug_Lib_CFG.c: ´¥Ã
             -þ´®¿Úµ÷ÊÔ¹¦ÄÜ£ºÒÑ¿ªÆô£¬Çëµ÷ÊÔ½áÊøºó¹Ø±Õ
   9          #pragma message "´¥Ãþ´®¿ÚÊ¹ÓÃUART1Ïà¹Ø×ÊÔ´£¬²¨ÌØÂÊÓÉT4²úÉú£¬Èô´®¿Úµ÷ÊÔÕ¼ÓÃµÄ×ÊÔ´ÓëÓÃ»§ÆäËü¹¦ÄÜÓÐ³åÍ»£¬Çë×¢
             -Òâ×öÏà¹Ø±ØÒªµÄµ÷Õû"
*** MESSAGE C286 IN LINE 9 OF ..\..\Libraries\YX23F01CB_TouchUartDebug_Lib_V2.00\YX23F01CB_TouchUartDebug_Lib_CFG.c: ´¥Ã
             -þ´®¿ÚÊ¹ÓÃUART1Ïà¹Ø×ÊÔ´£¬²¨ÌØÂÊÓÉT4²úÉú£¬Èô´®¿Úµ÷ÊÔÕ¼ÓÃµÄ×ÊÔ´ÓëÓÃ»§ÆäËü¹¦ÄÜÓÐ³åÍ»£¬Çë×¢Òâ×öÏà¹Ø±ØÒªµÄµ÷Õû
  10          #include "YX23F01CB_TouchUartDebug_Lib_V2.00\YX23F01CB_TouchUartDebug_Lib_Build_Message.h"
*** MESSAGE C286 IN LINE 437 OF ..\..\Libraries\YX23F01CB_TouchUartDebug_Lib_V2.00\YX23F01CB_TouchUartDebug_Lib_Build_Me
             -ssage.h: Touch_TXD_PIN is P2_0
  11          #else
              #pragma message "´¥Ãþ´®¿Úµ÷ÊÔ¹¦ÄÜ£ºÎ´¿ªÆô"
              #endif
  14          
  15          #if TouchUartDebugLib_SW
  16          //===================================================================================================
  17          void CTK_Debug_Mode_Uart_SendChar(u8 send_data);
  18          void CTK_Debug_Mode_Uart_SendWord(u16 send_data);
  19          
  20          //===================================================================================================
  21          void CTK_TouchUartDebug_Init()
  22          {
  23   1      #ifndef   SET_Touch_TXD_PORT_MODE
              #define   SET_Touch_TXD_PORT_MODE
              #error    "´¥Ãþµ÷ÊÔ¹Ü½ÅÉèÖÃ´íÎó£¬ÇëÔÚYX23F01CB_TouchUartDebug_Lib_CFG.hÎÄ¼þÖÐÖØÐÂÅäÖÃTouchUartDebugLib_TXD_P
             -x_y"
              #endif
  27   1      
  28   1      #ifndef   Touch_TXD_MAP
              #define   Touch_TXD_MAP  0x37
              #endif
  31   1      
  32   1        SET_Touch_TXD_PORT_MODE;
  33   1        TXD_MAP = Touch_TXD_MAP;
  34   1      
  35   1        //T4
  36   1        SCON2 = 0x02;   // uart mode 1
  37   1        T4 = 65536.5 - (SYSCLK_FOSC / 16 / TouchUartDebugLib_BAUDRATE); //
  38   1        T4CON = 0x06; //UART1 BaudRate fosc
  39   1      }
  40          
  41          //===================================================================================================
  42          void CTK_Debug_Mode_Uart_SendChar(u8 send_data)
  43          {
  44   1        SBUF = send_data;
C51 COMPILER V9.56.0.0   YX23F01CB_TOUCHUARTDEBUG_LIB_CFG                                  12/03/2020 08:45:13 PAGE 2   

  45   1      
  46   1        while(!TI);
  47   1      
  48   1        TI = 0;
  49   1      }
  50          
  51          //===================================================================================================
  52          void CTK_Debug_Mode_Uart_SendWord(u16 send_data)
  53          {
  54   1        SBUF = (u8)(send_data >> 8);
  55   1      
  56   1        while(!TI);
  57   1      
  58   1        TI = 0;
  59   1      
  60   1        SBUF = (u8)send_data;
  61   1      
  62   1        while(!TI);
  63   1      
  64   1        TI = 0;
  65   1      }
  66          
  67          #endif
  68          
  69          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     54    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
