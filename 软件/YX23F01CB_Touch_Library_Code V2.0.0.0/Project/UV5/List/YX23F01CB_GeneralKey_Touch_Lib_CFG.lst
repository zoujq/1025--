C51 COMPILER V9.56.0.0   YX23F01CB_GENERALKEY_TOUCH_LIB_CFG                                11/22/2020 21:53:34 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE YX23F01CB_GENERALKEY_TOUCH_LIB_CFG
OBJECT MODULE PLACED IN .\Output\YX23F01CB_GeneralKey_Touch_Lib_CFG.obj
COMPILER INVOKED BY: F:\Keil\C51\BIN\C51.EXE ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_T
                    -ouch_Lib_CFG.c OPTIMIZE(8,SPEED) BROWSE INCDIR(..\..\Application;..\..\User\INC;..\..\Libraries;..\..\Libraries;..\..\Us
                    -er\INC) DEBUG OBJECTEXTEND PRINT(.\List\YX23F01CB_GeneralKey_Touch_Lib_CFG.lst) TABS(2) OBJECT(.\Output\YX23F01CB_Genera
                    -lKey_Touch_Lib_CFG.obj)

line level    source

   1          
   2          
   3          //===================================================================================================
   4          #include "YX_DEFINE.H"
   5          #include "YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_CFG.h"
   6          #include "YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Auxiliary.h"
   7          
   8          //===================================================================================================
   9          #define IC_BODY_SOP20_DIP20                   0   //YX23F01CB SOP20/DIP20
  10          #define IC_BODY_SOP24                         1   //YX23F01CB SOP24
  11          #define IC_BODY_SOP28                         2   //YX23F01CB SOP28
  12          #define IC_BODY_SOP16                         3   //YX23F01CB SOP16
  13          
  14          
  15          //===================================================================================================
  16          #define HexadecimalToBinary(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)  \
  17          (                               \
  18            (a<<15)+(b<<14)+(c<<13)+(d<<12)+              \
  19            (e<<11)+(f<<10)+(g<<9)+(h<<8)+                \
  20            (i<<7)+(j<<6)+(k<<5)+(l<<4)+                \
  21            (m<<3)+(n<<2)+(o<<1)+(p<<0)                 \
  22          )
  23          #define TKBIN HexadecimalToBinary
  24          
  25          //===================================================================================================
  26          #if (HCTouchLib_IC_BODY == IC_BODY_SOP16)
              #pragma message "IC Body: YX23F01CB-SOP16"
              #define TK_CH_MAX     7
              uc8 CODE_INTERNAL_INDEX[TK_CH_MAX] = {2, 7, 11, 12, 13, 14, 15};
              
              #elif (HCTouchLib_IC_BODY == IC_BODY_SOP20_DIP20)
              #pragma message "IC Body: YX23F01CB-SOP20/DIP20"
              #define TK_CH_MAX     10
              uc8 CODE_INTERNAL_INDEX[TK_CH_MAX] = {2, 3, 7, 9, 10, 11, 12, 13, 14, 15};
              
              #elif (HCTouchLib_IC_BODY == IC_BODY_SOP24)
  37          #pragma message "IC Body: YX23F01CB-SOP24"
*** MESSAGE C286 IN LINE 37 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_CFG.c
             -: IC Body: YX23F01CB-SOP24
  38          #define TK_CH_MAX     12
  39          uc8 CODE_INTERNAL_INDEX[TK_CH_MAX] = {0, 1, 2, 3, 7, 9, 10, 11, 12, 13, 14, 15};
  40          
  41          #elif (HCTouchLib_IC_BODY == IC_BODY_SOP28)
              #pragma message "IC Body: YX23F01CB-SOP28"
              #define TK_CH_MAX     16
              uc8 CODE_INTERNAL_INDEX[TK_CH_MAX] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15};
              
              #else
              #define TK_CH_MAX     1
              uc8 CODE_INTERNAL_INDEX[TK_CH_MAX] = {0};
              #error "No IC Body,Please reconfigure HCTouchLib_IC_BODY"
              #endif
C51 COMPILER V9.56.0.0   YX23F01CB_GENERALKEY_TOUCH_LIB_CFG                                11/22/2020 21:53:34 PAGE 2   

  51          
  52          //===================================================================================================
  53          #include "YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Build_Message.h"
*** MESSAGE C286 IN LINE 135 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: TK12：Enable
*** MESSAGE C286 IN LINE 138 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: TK13：Enable
*** MESSAGE C286 IN LINE 141 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: TK14：Enable
*** MESSAGE C286 IN LINE 144 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: TK15：Enable
*** MESSAGE C286 IN LINE 218 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: CTK采样频率：Fosc/2
*** MESSAGE C286 IN LINE 227 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: CTK充放电频率：Fosc/4
*** MESSAGE C286 IN LINE 242 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: CTK充电电源电压：3V
*** MESSAGE C286 IN LINE 248 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: CTK充放电伪随机：打开
*** MESSAGE C286 IN LINE 251 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: CTK参考电压：0.60V
*** MESSAGE C286 IN LINE 267 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: CTK放电电阻：16
*** MESSAGE C286 IN LINE 275 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: CTK调制电容：内置电容
*** MESSAGE C286 IN LINE 278 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: CTK连续扫描模式：打开
*** MESSAGE C286 IN LINE 281 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: CTK扫描补偿：关闭
*** MESSAGE C286 IN LINE 320 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: CTK阈值噪声更新: 打开
*** MESSAGE C286 IN LINE 329 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: CTK低基准线复位: 打开
*** MESSAGE C286 IN LINE 340 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: CTK 抗CS扫描: 关闭
*** MESSAGE C286 IN LINE 349 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: CTK通道校准: 打开
*** MESSAGE C286 IN LINE 353 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: CTK RawData递推中位值平均滤波: 关闭
*** MESSAGE C286 IN LINE 362 OF ..\..\Libraries\YX23F01CB_GeneralKey_Touch_Lib_V2.00\YX23F01CB_GeneralKey_Touch_Lib_Buil
             -d_Message.h: CTK组合按键处理: 多按键模式
  54          
  55          //===================================================================================================
  56          #if ((HCTouchLib_TK_CH_MASK & (0xFFFF >> (16 - TK_CH_MAX))) == 0)
              #error "No channel is enabled,Please reconfigure HCTouchLib_TK_CH_MASK"
              #endif
  59          
  60          //===================================================================================================
  61          //开启的检测通道个数
  62          #define HCTouchLib_OPENED_TK_AMOUNT \
  63          ((HCTouchLib_TK_CH_MASK>> 0 & 0x01L)+(HCTouchLib_TK_CH_MASK>> 1 & 0x01L)+(HCTouchLib_TK_CH_MASK>> 2 & 0x01
             -L)+(HCTouchLib_TK_CH_MASK>> 3 & 0x01L)+\
  64           (HCTouchLib_TK_CH_MASK>> 4 & 0x01L)+(HCTouchLib_TK_CH_MASK>> 5 & 0x01L)+(HCTouchLib_TK_CH_MASK>> 6 & 0x01
             -L)+(HCTouchLib_TK_CH_MASK>> 7 & 0x01L)+\
  65           (HCTouchLib_TK_CH_MASK>> 8 & 0x01L)+(HCTouchLib_TK_CH_MASK>> 9 & 0x01L)+(HCTouchLib_TK_CH_MASK>>10 & 0x01
             -L)+(HCTouchLib_TK_CH_MASK>>11 & 0x01L)+\
  66           (HCTouchLib_TK_CH_MASK>>12 & 0x01L)+(HCTouchLib_TK_CH_MASK>>13 & 0x01L)+(HCTouchLib_TK_CH_MASK>>14 & 0x01
             -L)+(HCTouchLib_TK_CH_MASK>>15 & 0x01L))
  67          
  68          //===================================================================================================
  69          uc16  CODE_TK_CH_MASK                 = HCTouchLib_TK_CH_MASK;
  70          uc16  CODE_TK_LONGKEY                 = HCTouchLib_TK_LONGKEY;
C51 COMPILER V9.56.0.0   YX23F01CB_GENERALKEY_TOUCH_LIB_CFG                                11/22/2020 21:53:34 PAGE 3   

  71          uc8   CODE_CHANNEL_CALIBRATE_SW       = 0;
  72          uc8   CODE_CALIBRATE_DEFLECTED_AREA   = 20;
  73          uc16  CODE_CALIBRATE_TARGET_LINE      = 0;
  74          uc8   CODE_DSCR                       = HCTouchLib_DSCR;
  75          uc8   CODE_CTKDS_PRSDIV               = (0 << 4) | (1 << 3) | HCTouchLib_PRSDIV;
  76          uc8   CODE_CTKDS_PRSDIV_ANTICS        = (0 << 4) | (1 << 3) | (HCTouchLib_PRSDIV + 1);
  77          uc8   CODE_VD_RV                      = (HCTouchLib_VD << 4) | 0;
  78          uc8   CODE_RBS                        = (0 << 7) | HCTouchLib_RBS;
  79          uc16  CODE_OVERLOW_TIME               = HCTouchLib_OVERLOW_TIME;
  80          uc8   CODE_CONFIRM_TOUCH_TIME         = HCTouchLib_CONFIRM_TOUCH_TIME;
  81          uc8   CODE_CONFIRM_NOTOUCH_TIME       = HCTouchLib_CONFIRM_NOTOUCH_TIME;
  82          uc8   CODE_LIMIT_FACTOR               = HCTouchLib_LIMIT_FACTOR;
  83          uc8   CODE_BARREL_CAPACITY            = HCTouchLib_NOISE_BARREL_CAPACITY;
  84          uc16  CODE_NOISE_THRESHOLD[16]        = HCTouchLib_NOISE_THRESHOLD;
  85          uc16  CODE_FINGER_THRESHOLD[16]       = HCTouchLib_FINGER_THRESHOLD;
  86          uc8   CODE_OPENED_TK_AMOUNT           = HCTouchLib_OPENED_TK_AMOUNT;
  87          uc8   CODE_HYSTERESIS         = HCTouchLib_HYSTERESIS;
  88          uc8   CODE_TK_CH_MAX                  = TK_CH_MAX;
  89          uc8   CODE_FILTER_DEPTH       = HCTouchLib_FILTER_DEPTH;
  90          uc8   CODE_ANTI_CS_SCAN_SW      = HCTouchLib_ANTI_CS_SCAN_SW;
  91          uc16  CODE_RAWDATA_OVER       = ((HCTouchLib_DSCR+1)*256-1)/10*8;
  92          uc16  CODE_RAWDATA_MAX        = ((HCTouchLib_DSCR+1)*256-1);
  93          uc8   CODE_ANTI_CS_OFFSET       = 4;
  94          //===================================================================================================
  95          ux16  XDATA_RawData     [HCTouchLib_OPENED_TK_AMOUNT];
  96          ux16  XDATA_RawDataBuf  [HCTouchLib_OPENED_TK_AMOUNT];
  97          ux16  XDATA_RawDataAntiCS [HCTouchLib_OPENED_TK_AMOUNT];
  98          sx16  XDATA_BaseLine    [HCTouchLib_OPENED_TK_AMOUNT];
  99          ux16  XDATA_OverLowCnt  [HCTouchLib_OPENED_TK_AMOUNT];
 100          ux8   XDATA_TouchCnt    [HCTouchLib_OPENED_TK_AMOUNT];
 101          ux8   XDATA_NoTouchCnt  [HCTouchLib_OPENED_TK_AMOUNT];
 102          sx16  XDATA_DifferAccum [HCTouchLib_OPENED_TK_AMOUNT];
 103          ux16  XDATA_LongRstCnt  [HCTouchLib_OPENED_TK_AMOUNT];
 104          ux16  XDATA_THRNoiseCnt [HCTouchLib_OPENED_TK_AMOUNT];
 105          ux8   XDATA_OpenChannel [HCTouchLib_OPENED_TK_AMOUNT];
 106          ux8   XDATA_AccessIndex [TK_CH_MAX];
 107          ux8   XDATA_LongKeyIndex  [TK_CH_MAX];
 108          ux16  XDATA_ConfirmLongTouchTime  = HCTouchLib_CONFIRM_LONGTOUCH_TIME;
 109          ux16  XDATA_ConfirmShortTouchTime = HCTouchLib_CONFIRM_SHORTTOUCH_TIME;
 110          ux16  XDATA_ThresholdNoiseTime  = HCTouchLib_THRESHOLD_NOISE_TIME;
 111          ux8   XDATA_ThresholdRatio      = 10;
 112          ux8   XDATA_FineTuning        = 2;
 113          
 114          /******************************************************************************************************
 115          
 116           ******************************************************************************************************/
 117           


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   ----    ----
   CONSTANT SIZE    =    105    ----
   XDATA SIZE       =    108    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
